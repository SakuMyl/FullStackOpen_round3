{"version":3,"sources":["AxiosUtils.js","Components.js","App.js","index.js"],"names":["baseUrl","SubmitButton","react_default","a","createElement","type","className","Notification","_ref","message","Header","_ref2","name","Filter","props","value","constraint","onChange","handleChange","NewPersonForm","onSubmit","handleSubmit","handleNameChange","number","handleNumberChange","Components_SubmitButton","text","Persons","_ref3","persons","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newConstraint","setNewConstraint","_useState9","error","_useState10","notification","setNotification","useEffect","axios","get","then","response","data","setNotificationState","state","setTimeout","removePerson","person","id","window","confirm","concat","delete","filter","p","Components_Header","Components_Notification","Components_Filter","event","target","Components_NewPersonForm","preventDefault","newObject","map","includes","existingPerson","find","put","catch","post","create","alert","Components_Persons","toLowerCase","joinNameAndNumber","key","onClick","ReactDOM","render","src_App","document","getElementById"],"mappings":"6NACMA,EAAU,eCCVC,EAAe,kBACnBC,EAAAC,EAAAC,cAAA,UAAQC,KAAK,SAASC,UAAU,gBAAhC,gBAEIC,EAAe,SAAAC,GAAuB,IAApBC,EAAoBD,EAApBC,QAASJ,EAAWG,EAAXH,KAC/B,OAAgB,OAAZI,EACK,KAGPP,EAAAC,EAAAC,cAAA,OAAKE,UAAWD,GACbI,IAKDC,EAAS,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,KAAF,OACXV,EAAAC,EAAAC,cAAA,UAAKQ,IAEDC,EAAS,SAACC,GACd,OACEZ,EAAAC,EAAAC,cAAA,0CACqBF,EAAAC,EAAAC,cAAA,SACjBW,MAASD,EAAME,WACfC,SAAYH,EAAMI,iBAKpBC,EAAgB,SAACL,GACrB,OACEZ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,QAAMgB,SAAYN,EAAMO,cACtBnB,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SACJW,MAASD,EAAMF,KACfK,SAAUH,EAAMQ,oBAGpBpB,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SACRW,MAASD,EAAMS,OACfN,SAAUH,EAAMU,sBAGlBtB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqB,EAAD,CACEC,KAAK,oBAOXC,EAAU,SAAAC,GAAe,IAAbC,EAAaD,EAAbC,QAChB,OACE3B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,qBACCyB,IC8EMC,EArIH,WAAM,IAAAC,EACeC,mBAAS,IADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRF,EADQI,EAAA,GACCG,EADDH,EAAA,GAAAI,EAEgBL,mBAAS,IAFzBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAERE,EAFQD,EAAA,GAECE,EAFDF,EAAA,GAAAG,EAGmBT,mBAAS,IAH5BU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAGRE,EAHQD,EAAA,GAGGE,EAHHF,EAAA,GAAAG,EAI0Bb,mBAAS,IAJnCc,EAAAZ,OAAAC,EAAA,EAAAD,CAAAW,EAAA,GAITE,EAJSD,EAAA,GAIME,EAJNF,EAAA,GAAAG,EAKwBjB,mBAAS,CAACvB,QAAQ,KAAMyC,OAAM,IALtDC,EAAAjB,OAAAC,EAAA,EAAAD,CAAAe,EAAA,GAKTG,EALSD,EAAA,GAKKE,EALLF,EAAA,GAOhBG,oBAAU,WFPMC,IAAMC,IAAIxD,GACXyD,KAAK,SAAAC,GAAQ,OAAIA,EAASC,OEQpCF,KAAK,SAAAC,GAAQ,OAAItB,EAAWsB,MAC9B,IAEH,IAYME,EAAuB,SAACC,GAC5BR,EAAgBQ,GAChBC,WAAW,WACTT,EAAgB,CAAC5C,QAAQ,QACxB,MAqDCsD,EAAe,SAACC,GFlET,IAAAC,EEmERC,OAAOC,QAAP,gBAAAC,OAA+BJ,EAAOpD,KAAtC,SFnEQqD,EEoEFD,EAAOC,GFnEAV,IAAMc,OAAN,GAAAD,OAAgBpE,EAAhB,KAAAoE,OAA2BH,IAC5BR,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QEmEpCF,KAAK,kBAAMrB,EAAWP,EAAQyC,OAAO,SAAAC,GAAC,OAAIA,EAAEN,KAAOD,EAAOC,QAC7DL,EACE,CACEnD,QAAO,eAAA2D,OAAgBJ,EAAOpD,MAC9BP,KAAK,mBAqBb,OACEH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACoE,EAAD,CAAQ5D,KAAK,oBACbV,EAAAC,EAAAC,cAACqE,EAAD,CACEhE,QAAS2C,EAAa3C,QACtBJ,KAAM+C,EAAa/C,OAErBH,EAAAC,EAAAC,cAACsE,EAAD,CACE1D,WAAY+B,EACZ7B,aAlGyB,SAACyD,GAC9B3B,EAAiB2B,EAAMC,OAAO7D,UAmG5Bb,EAAAC,EAAAC,cAACyE,EAAD,CACEjE,KAAM2B,EACNhB,OAAQoB,EACRtB,aA7FkB,SAACsD,GACvBA,EAAMG,iBACN,IFtBYb,EAAIc,EEsBVf,EAAS,CACbpD,KAAM2B,EACNhB,OAAQoB,GAEV,GAAGd,EAAQmD,IAAI,SAAAhB,GAAM,OAAIA,EAAOpD,OAAMqE,SAAS1C,IAC7C,GAAG2B,OAAOC,QAAP,GAAAC,OAAkB7B,EAAlB,0DAAmF,CACpF,IAAM2C,EAAiBrD,EAAQsD,KAAK,SAAAZ,GAAC,OAAIA,EAAE3D,OAASoD,EAAOpD,QF5BnDqD,EE6BDiB,EAAejB,GF7BVc,EE6Bcf,EF5BhBT,IAAM6B,IAAN,GAAAhB,OAAapE,EAAb,KAAAoE,OAAwBH,GAAMc,GAC/BtB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QE4BhCF,KAAK,SAAAC,GAAQ,OACZtB,EAAWP,EAAQmD,IAAI,SAAAT,GAAC,OACtBA,EAAE3D,OAASoD,EAAOpD,KAClB8C,EAAWa,OACdc,MAAM,kBACLzB,EACE,CACEnD,QAAO,GAAA2D,OAAIJ,EAAOpD,KAAX,qBACPP,KAAK,YAGbmC,EAAW,IACXI,EAAa,IACbgB,EACE,CACEnD,QAAO,mBAAA2D,OAAiBJ,EAAOpD,MAC/BP,KAAK,uBAIN2D,EAAOpD,MAAQoD,EAAOzC,QFxDlB,SAAAwD,GAGb,OAFgBxB,IAAM+B,KAAKtF,EAAS+E,GAChBtB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,OEuDtC4B,CAAOvB,GACJP,KAAK,SAAAC,GAAQ,OAAItB,EAAWP,EAAQuC,OAAOV,MAC9ClB,EAAW,IACXI,EAAa,IACbgB,EACE,CACEnD,QAAO,gBAAA2D,OAAcJ,EAAOpD,MAC5BP,KAAK,kBAIT6D,OAAOsB,MAAM,yBAoDfhE,mBA5GqB,SAACmD,GAC1B/B,EAAa+B,EAAMC,OAAO7D,QA4GtBO,iBAjHmB,SAACqD,GACxBnC,EAAWmC,EAAMC,OAAO7D,UAkHtBb,EAAAC,EAAAC,cAACqF,EAAD,CAAS5D,QAhCTA,EAAQyC,OAAO,SAAAN,GAAM,OAlBC,SAACA,GAAD,SAAAI,OACrBJ,EAAOpD,KAAK8E,cADS,KAAAtB,OACQJ,EAAOzC,QAiBZoE,CAAkB3B,GAAQiB,SAASlC,EAAc2C,iBACpEV,IAAI,SAAAhB,GAAM,OACR9D,EAAAC,EAAAC,cAAA,OAAKwF,IAAK5B,EAAOC,IACb/D,EAAAC,EAAAC,cAAA,YAAO4D,EAAOpD,KAAd,IAAqBoD,EAAOzC,OAA5B,KACArB,EAAAC,EAAAC,cAAA,UACEyF,QAAS,kBAAM9B,EAAaC,KAD9B,iBClGlB8B,IAASC,OAAO7F,EAAAC,EAAAC,cAAC4F,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.220f34f2.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  const res = request.then(response => response.data)\r\n  return res\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst SubmitButton = () => (\r\n  <button type=\"submit\" className=\"submitButton\">lisää</button>\r\n)\r\nconst Notification = ({ message, type }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className={type}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Header = ({name}) => (\r\n    <h1>{name}</h1>\r\n  )\r\n  const Filter = (props) => {\r\n    return (\r\n      <div>\r\n        Rajaa näytettäviä: <input\r\n          value = {props.constraint}\r\n          onChange = {props.handleChange}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n  const NewPersonForm = (props) => {\r\n    return(\r\n      <div>\r\n        <h2>Lisää uusi</h2>\r\n        <form onSubmit = {props.handleSubmit}>\r\n          <div>\r\n            nimi: <input \r\n              value = {props.name}\r\n              onChange={props.handleNameChange}\r\n              />\r\n          </div>\r\n          <div>\r\n            numero: <input\r\n            value = {props.number}\r\n            onChange={props.handleNumberChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <SubmitButton \r\n              text='lisää'\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n  const Persons = ({persons}) => {\r\n    return(\r\n      <div>\r\n        <h2>Numerot</h2>\r\n        {persons}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport {\r\n    Header,\r\n    Filter,\r\n    NewPersonForm,\r\n    Persons,\r\n    Notification\r\n}","import React, { useState, useEffect } from 'react'\r\nimport {getAll, create, remove, update} from './AxiosUtils'\r\nimport {Header, Filter, NewPersonForm, Persons, Notification} from './Components'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [newConstraint, setNewConstraint] = useState('')\r\n  const [notification, setNotification] = useState({message:null, error:false})\r\n\r\n  useEffect(() => {\r\n    getAll()\r\n      .then(response => setPersons(response))\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleConstraintChange = (event) => {\r\n    setNewConstraint(event.target.value)\r\n  }\r\n\r\n  const setNotificationState = (state) => {\r\n    setNotification(state)\r\n    setTimeout(() =>{\r\n      setNotification({message:null})\r\n    }, 5000)\r\n  } \r\n  const handleNewPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if(persons.map(person => person.name).includes(newName)) {\r\n      if(window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\r\n        const existingPerson = persons.find(p => p.name === person.name)\r\n        update(existingPerson.id, person)\r\n          .then(response => \r\n            setPersons(persons.map(p => \r\n              p.name === person.name ?\r\n              response : p)))\r\n          .catch(() => \r\n            setNotificationState(\r\n              {\r\n                message:`${person.name} oli jo poistettu`,\r\n                type:'error'\r\n              })\r\n          )\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setNotificationState(\r\n          {\r\n            message:`Päivitettiin ${person.name}`,\r\n            type:'notification'\r\n          })\r\n      }\r\n    } else {\r\n        if(person.name && person.number) {\r\n          create(person)\r\n            .then(response => setPersons(persons.concat(response)))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setNotificationState(\r\n            {\r\n              message:`Lisättiin ${person.name}`,\r\n              type:'notification'\r\n            })\r\n        }\r\n        else {\r\n          window.alert('Anna nimi ja numero!')\r\n        }\r\n    }\r\n  } \r\n\r\n  const joinNameAndNumber = (person) => (\r\n    `${person.name.toLowerCase()} ${person.number}`\r\n  )\r\n\r\n  const removePerson = (person) => {\r\n    if(window.confirm(`Poistetaanko ${person.name}?`)) {\r\n      remove(person.id)\r\n        .then(() => setPersons(persons.filter(p => p.id !== person.id)))\r\n      setNotificationState(\r\n        {\r\n          message:`Poistettiin ${person.name}`,\r\n          type:'notification'\r\n        })\r\n    }\r\n  }\r\n\r\n  const filterPersons = () => {\r\n    return(\r\n      persons.filter(person => joinNameAndNumber(person).includes(newConstraint.toLowerCase()))\r\n           .map(person => \r\n              <div key={person.id}>\r\n                  <span>{person.name} {person.number} </span>\r\n                  <button\r\n                    onClick={() => removePerson(person)}>\r\n                    Poista\r\n                  </button>\r\n              </div>\r\n           )\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Header name='Puhelinluettelo'></Header>\r\n      <Notification \r\n        message={notification.message}\r\n        type={notification.type}\r\n      />\r\n      <Filter\r\n        constraint={newConstraint}\r\n        handleChange={handleConstraintChange}\r\n        ></Filter>\r\n      <NewPersonForm\r\n        name={newName}\r\n        number={newNumber}\r\n        handleSubmit={handleNewPerson}\r\n        handleNumberChange={handleNumberChange}\r\n        handleNameChange={handleNameChange}\r\n        ></NewPersonForm>\r\n      <Persons persons={filterPersons()}></Persons>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}