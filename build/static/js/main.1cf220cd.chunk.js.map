{"version":3,"sources":["AxiosUtils.js","Components.js","App.js","index.js"],"names":["baseUrl","SubmitButton","react_default","a","createElement","type","className","Notification","_ref","message","Header","_ref2","name","Filter","props","value","constraint","onChange","handleChange","NewPersonForm","onSubmit","handleSubmit","handleNameChange","number","handleNumberChange","Components_SubmitButton","text","Persons","_ref3","persons","handleRemove","list","map","person","key","id","onClick","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newConstraint","setNewConstraint","_useState9","_useState10","notification","setNotification","useEffect","axios","get","then","response","data","setNotificationState","state","setTimeout","Components_Header","Components_Notification","Components_Filter","event","target","Components_NewPersonForm","preventDefault","newObject","includes","window","confirm","concat","url","console","log","put","update","find","p","catch","err","post","error","Components_Persons","filter","toLowerCase","joinNameAndNumber","delete","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.1cf220cd.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  const res = request.then(response => response.data)\r\n  return res\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const url = `${baseUrl}/${id}`\r\n  console.log(url)\r\n  const request = axios.put(url, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst SubmitButton = () => (\r\n  <button type=\"submit\" className=\"submitButton\">lisää</button>\r\n)\r\nconst Notification = ({ message, type }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className={type}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Header = ({name}) => (\r\n  <h1>{name}</h1>\r\n)\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div className='Filter'>\r\n      Rajaa näytettäviä: <input\r\n        value = {props.constraint}\r\n        onChange = {props.handleChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n  const NewPersonForm = (props) => {\r\n    return(\r\n      <div className='NewPersonForm'>\r\n        <h2>Lisää uusi</h2>\r\n        <form onSubmit = {props.handleSubmit}>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>nimi:</td>\r\n                <td>\r\n                  <input \r\n                  value = {props.name}\r\n                  onChange={props.handleNameChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>numero:</td> \r\n                <td>\r\n                  <input\r\n                  value = {props.number}\r\n                  onChange={props.handleNumberChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div>\r\n            <SubmitButton \r\n              text='lisää'\r\n            />\r\n          </div>\r\n            \r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n  const Persons = ({persons, handleRemove}) => {\r\n    const list = persons.map(person => \r\n        <tbody className='Person' key={person.id}>\r\n          <tr>\r\n            <td>{person.name}</td>\r\n            <td>{person.number}</td>\r\n            <td>\r\n              <button\r\n                onClick={() => handleRemove(person)}>\r\n                Poista\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      )\r\n\r\n    return(\r\n      <div className='Persons'>\r\n        <h2>Numerot</h2>\r\n        {list}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport {\r\n    Header,\r\n    Filter,\r\n    NewPersonForm,\r\n    Persons,\r\n    Notification\r\n}","import React, { useState, useEffect } from 'react'\r\nimport {getAll, create, remove, update} from './AxiosUtils'\r\nimport {Header, Filter, NewPersonForm, Persons, Notification} from './Components'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [newConstraint, setNewConstraint] = useState('')\r\n  const [notification, setNotification] = useState({message:null, type: 'notification'})\r\n\r\n  useEffect(() => {\r\n    getAll()\r\n      .then(response => setPersons(response))\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleConstraintChange = (event) => {\r\n    setNewConstraint(event.target.value)\r\n  }\r\n\r\n  const setNotificationState = (state) => {\r\n    setNotification(state)\r\n    setTimeout(() =>{\r\n      setNotification({message:null})\r\n    }, 5000)\r\n  } \r\n  const handleNewPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if(persons.map(person => person.name).includes(newName)) {\r\n      if(window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\r\n        const existingPerson = persons.find(p => p.name === person.name)\r\n        update(existingPerson.id, person)\r\n          .then(response => \r\n            setPersons(persons.map(p => \r\n              p.name === person.name ?\r\n              response : p)))\r\n          .catch(err => {\r\n            setNotificationState(\r\n              {\r\n                message:`${person.name} oli jo poistettu`,\r\n                type:'error'\r\n              })\r\n            })\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setNotificationState(\r\n          {\r\n            message:`Päivitettiin ${person.name}`,\r\n            type:'notification'\r\n          })\r\n      }\r\n    } else {\r\n        create(person)\r\n          .then(response => {\r\n            setPersons(persons.concat(response))\r\n            setNotificationState({\r\n                message:`Lisättiin ${person.name}`,\r\n                type:'notification'\r\n              })\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(error => {\r\n            setNotificationState({\r\n              message: error.response.data.error,\r\n              type: 'error'\r\n            })\r\n          })\r\n        \r\n    }\r\n  } \r\n\r\n  const joinNameAndNumber = (person) => (\r\n    `${person.name.toLowerCase()} ${person.number}`\r\n  )\r\n\r\n  const removePerson = (person) => {\r\n    if(window.confirm(`Poistetaanko ${person.name}?`)) {\r\n      remove(person.id)\r\n        .then(() => setPersons(persons.filter(p => p.id !== person.id)))\r\n      setNotificationState(\r\n        {\r\n          message:`Poistettiin ${person.name}`,\r\n          type:'notification'\r\n        })\r\n    }\r\n  }\r\n\r\n  const filterPersons = () => {\r\n    return(\r\n      persons.filter(person => \r\n        joinNameAndNumber(person).includes(newConstraint.toLowerCase())\r\n      )\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Header name='Puhelinluettelo'></Header>\r\n      <Notification \r\n        message={notification.message}\r\n        type={notification.type}\r\n      />\r\n      <Filter\r\n        constraint={newConstraint}\r\n        handleChange={handleConstraintChange}\r\n        ></Filter>\r\n      <NewPersonForm\r\n        name={newName}\r\n        number={newNumber}\r\n        handleSubmit={handleNewPerson}\r\n        handleNumberChange={handleNumberChange}\r\n        handleNameChange={handleNameChange}\r\n        ></NewPersonForm>\r\n      <Persons persons={filterPersons()} handleRemove={removePerson}></Persons>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}