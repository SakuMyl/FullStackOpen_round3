{"version":3,"sources":["AxiosUtils.js","Components.js","App.js","index.js"],"names":["baseUrl","SubmitButton","react_default","a","createElement","type","className","Notification","_ref","message","Header","_ref2","name","Filter","props","value","constraint","onChange","handleChange","NewPersonForm","onSubmit","handleSubmit","handleNameChange","number","handleNumberChange","Components_SubmitButton","text","Persons","_ref3","persons","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newConstraint","setNewConstraint","_useState9","_useState10","notification","setNotification","useEffect","axios","get","then","response","data","setNotificationState","state","setTimeout","removePerson","person","id","window","confirm","concat","delete","filter","p","Components_Header","Components_Notification","Components_Filter","event","target","Components_NewPersonForm","preventDefault","newObject","map","includes","url","console","log","put","update","find","catch","err","post","error","Components_Persons","list","toLowerCase","joinNameAndNumber","key","onClick","filterPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c77bf3c2.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  const res = request.then(response => response.data)\r\n  return res\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const url = `${baseUrl}/${id}`\r\n  console.log(url)\r\n  const request = axios.put(url, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst SubmitButton = () => (\r\n  <button type=\"submit\" className=\"submitButton\">lisää</button>\r\n)\r\nconst Notification = ({ message, type }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className={type}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Header = ({name}) => (\r\n  <h1>{name}</h1>\r\n)\r\n\r\nconst Filter = (props) => {\r\n  return (\r\n    <div className='Filter'>\r\n      Rajaa näytettäviä: <input\r\n        value = {props.constraint}\r\n        onChange = {props.handleChange}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n  const NewPersonForm = (props) => {\r\n    return(\r\n      <div className='NewPersonForm'>\r\n        <h2>Lisää uusi</h2>\r\n        <form onSubmit = {props.handleSubmit}>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>nimi:</td>\r\n                <td>\r\n                  <input \r\n                  value = {props.name}\r\n                  onChange={props.handleNameChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>numero:</td> \r\n                <td>\r\n                  <input\r\n                  value = {props.number}\r\n                  onChange={props.handleNumberChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div>\r\n            <SubmitButton \r\n              text='lisää'\r\n            />\r\n          </div>\r\n            \r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n  const Persons = ({persons}) => {\r\n    return(\r\n      <div className='Persons'>\r\n        <h2>Numerot</h2>\r\n        {persons}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport {\r\n    Header,\r\n    Filter,\r\n    NewPersonForm,\r\n    Persons,\r\n    Notification\r\n}","import React, { useState, useEffect } from 'react'\r\nimport {getAll, create, remove, update} from './AxiosUtils'\r\nimport {Header, Filter, NewPersonForm, Persons, Notification} from './Components'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [newConstraint, setNewConstraint] = useState('')\r\n  const [notification, setNotification] = useState({message:null, type: 'notification'})\r\n\r\n  useEffect(() => {\r\n    getAll()\r\n      .then(response => setPersons(response))\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleConstraintChange = (event) => {\r\n    setNewConstraint(event.target.value)\r\n  }\r\n\r\n  const setNotificationState = (state) => {\r\n    setNotification(state)\r\n    setTimeout(() =>{\r\n      setNotification({message:null})\r\n    }, 5000)\r\n  } \r\n  const handleNewPerson = (event) => {\r\n    event.preventDefault()\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if(persons.map(person => person.name).includes(newName)) {\r\n      if(window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\r\n        const existingPerson = persons.find(p => p.name === person.name)\r\n        update(existingPerson.id, person)\r\n          .then(response => \r\n            setPersons(persons.map(p => \r\n              p.name === person.name ?\r\n              response : p)))\r\n          .catch(err => {\r\n            setNotificationState(\r\n              {\r\n                message:`${person.name} oli jo poistettu`,\r\n                type:'error'\r\n              })\r\n            })\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setNotificationState(\r\n          {\r\n            message:`Päivitettiin ${person.name}`,\r\n            type:'notification'\r\n          })\r\n      }\r\n    } else {\r\n        create(person)\r\n          .then(response => {\r\n            setPersons(persons.concat(response))\r\n            setNotificationState({\r\n                message:`Lisättiin ${person.name}`,\r\n                type:'notification'\r\n              })\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(error => {\r\n            setNotificationState({\r\n              message: error.response.data.error,\r\n              type: 'error'\r\n            })\r\n          })\r\n        \r\n    }\r\n  } \r\n\r\n  const joinNameAndNumber = (person) => (\r\n    `${person.name.toLowerCase()} ${person.number}`\r\n  )\r\n\r\n  const removePerson = (person) => {\r\n    if(window.confirm(`Poistetaanko ${person.name}?`)) {\r\n      remove(person.id)\r\n        .then(() => setPersons(persons.filter(p => p.id !== person.id)))\r\n      setNotificationState(\r\n        {\r\n          message:`Poistettiin ${person.name}`,\r\n          type:'notification'\r\n        })\r\n    }\r\n  }\r\n\r\n  const filterPersons = () => {\r\n    const list = persons.filter(person => joinNameAndNumber(person).includes(newConstraint.toLowerCase()))\r\n      .map(person => \r\n        <tbody className='Person' key={person.id}>\r\n          <tr>\r\n            <td>{person.name} {person.number}  </td>\r\n            <td>\r\n             <button\r\n                onClick={() => removePerson(person)}>\r\n                Poista\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      )\r\n    return(\r\n      <table>\r\n        {list}\r\n      </table>\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Header name='Puhelinluettelo'></Header>\r\n      <Notification \r\n        message={notification.message}\r\n        type={notification.type}\r\n      />\r\n      <Filter\r\n        constraint={newConstraint}\r\n        handleChange={handleConstraintChange}\r\n        ></Filter>\r\n      <NewPersonForm\r\n        name={newName}\r\n        number={newNumber}\r\n        handleSubmit={handleNewPerson}\r\n        handleNumberChange={handleNumberChange}\r\n        handleNameChange={handleNameChange}\r\n        ></NewPersonForm>\r\n      <Persons persons={filterPersons()}></Persons>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}